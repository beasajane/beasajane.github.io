<script>
  function * foo() {
    yield 1
    yield 2
    yield 3
  }
  for(var x of foo()) {
    
  }

  
  function getValue(n, time = 1000) {
    return new Promise(resolve => {
      setTimeout(() => resolve(n), time)
    })
  }
  async function * foo() {
    await getValue(1, 1000)
    yield 1
    await getValue(1, 1000)
    yield 2
    await getValue(1, 1000)
    yield 3
  }
  g = foo() // 无法立刻得到结果，但可以运行后续代码
  g.next()
  g.next()
  g.next()
  g.next()



  for await(var x of foo()) {
    console.log(x)
  }


  async function foo() {  // await 目的为了去then
    await getValue(1, 1000)
    await getValue(1, 1000)
    await getValue(1, 1000)
  }
  async function too() {
    await getValue(1, 1000)
    await getValue(1, 1000)
    await getValue(1, 1000)
  }

  // coroutine  纤程、协程   thread 线程
  foo()
  too()
</script>